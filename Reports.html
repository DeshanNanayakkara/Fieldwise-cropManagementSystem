<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reports & Analytics</title>
    <link rel="stylesheet" href="/css/dashboard.css" />
    <link rel="stylesheet" href="/css/reports.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet" />
</head>
<body>
    <div class="dashboard">
        <!-- Dashboard Sidebar -->
        <div class="dashboardnavbar">
            <!-- Reuse your existing dashboard sidebar structure here -->
        </div>

        <!-- Page Content -->
        <div class="main-content">
            <!-- Header Section -->
            <div class="headbar">
                <h3>Reports & Analytics</h3>
                <div class="datetime">
                    <span id="date"></span>
                    <span id="time"></span>
                </div>
            </div>

            <!-- Summary Cards -->
            <div class="summary-cards">
                <div class="card">
                    <div class="card-body">
                        <h5>Total Vehicles</h5>
                        <p>120</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-body">
                        <h5>Total Staff</h5>
                        <p>45</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-body">
                        <h5>Total Fields</h5>
                        <p>30</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-body">
                        <h5>Equipment</h5>
                        <p>78</p>
                    </div>
                </div>
            </div>

            <!-- Chart Section -->
            <div class="chart-section">
                <div class="chart-card">
                    <h4>Monthly Vehicle Usage</h4>
                    <canvas id="vehicleUsageChart"></canvas>
                </div>
                <div class="chart-card">
                    <h4>Staff Allocation</h4>
                    <canvas id="staffAllocationChart"></canvas>
                </div>
            </div>

            <!-- Table Section -->
            <div class="table-section">
                <h4>Recent Activity Logs</h4>
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Action</th>
                            <th>Performed By</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>2024-10-31</td>
                            <td>Vehicle Maintenance Updated</td>
                            <td>Admin</td>
                        </tr>
                        <tr>
                            <td>2024-10-30</td>
                            <td>New Staff Added</td>
                            <td>Manager</td>
                        </tr>
                        <!-- Additional rows as needed -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Include Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Vehicle Usage Chart
        const vehicleUsageCtx = document.getElementById('vehicleUsageChart').getContext('2d');
        new Chart(vehicleUsageCtx, {
            type: 'bar',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                datasets: [{
                    label: 'Vehicle Usage',
                    data: [12, 19, 3, 5, 2, 3],
                    backgroundColor: 'rgba(54, 162, 235, 0.6)',
                }]
            }
        });

        // Staff Allocation Chart
        const staffAllocationCtx = document.getElementById('staffAllocationChart').getContext('2d');
        new Chart(staffAllocationCtx, {
            type: 'doughnut',
            data: {
                labels: ['Field Work', 'Office', 'Logistics'],
                datasets: [{
                    label: 'Staff Allocation',
                    data: [25, 10, 10],
                    backgroundColor: ['#4caf50', '#ff9800', '#00bcd4']
                }]
            }
        });

        function updateDateTime() {
            const now = new Date();
            document.getElementById("date").innerText = now.toLocaleDateString();
            document.getElementById("time").innerText = now.toLocaleTimeString();
        }
        setInterval(updateDateTime, 1000);
        updateDateTime();
    </script>
</body>
</html>
